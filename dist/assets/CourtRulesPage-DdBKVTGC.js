import{r as u,a6 as e,h as N}from"./vendor-DrKzkH4x.js";import{a as b}from"./router-CNLU_KyZ.js";import{al as B,ah as g,as as j,a$ as q,ao as A,aG as S,Y as D,am as R,a as T,az as w,v as E,z as F,X as k}from"./icons-BtUkkwGS.js";import{f as H,b as L}from"./date-utils-BkNAU8cl.js";import"./doc-parsers-U1nJMjtM.js";import"./react-dom-DfB-QKj2.js";import"./pdf-worker-CVmCB3lP.js";const z="_courtRulesPage_1qvcc_1",I="_backButton_1qvcc_6",P="_header_1qvcc_36",M="_headerIcon_1qvcc_43",G="_headerContent_1qvcc_54",J="_primaryBtn_1qvcc_70",V="_infoBanner_1qvcc_90",O="_toolbar_1qvcc_121",U="_searchBox_1qvcc_129",Y="_filterSelect_1qvcc_158",Q="_rulesList_1qvcc_212",W="_ruleCard_1qvcc_218",$="_inactive_1qvcc_230",X="_ruleHeader_1qvcc_234",K="_ruleTitle_1qvcc_241",Z="_typeBadge_1qvcc_254",ee="_ruleActions_1qvcc_261",se="_toggleBtn_1qvcc_267",te="_iconBtn_1qvcc_285",ae="_iconBtnDanger_1qvcc_305",ie="_ruleDetails_1qvcc_325",ce="_ruleInfo_1qvcc_332",ne="_infoLabel_1qvcc_338",oe="_infoValue_1qvcc_346",le="_ruleDescription_1qvcc_351",re="_ruleExample_1qvcc_358",de="_emptyState_1qvcc_377",ue="_modalOverlay_1qvcc_409",pe="_modal_1qvcc_409",me="_modalHeader_1qvcc_433",ve="_closeBtn_1qvcc_447",he="_modalForm_1qvcc_466",xe="_formGroup_1qvcc_470",ge="_formRow_1qvcc_558",je="_deadlineSection_1qvcc_564",_e="_deadlineInputs_1qvcc_576",fe="_toggle_1qvcc_267",ye="_toggleLabel_1qvcc_641",Ce="_toggleDesc_1qvcc_649",Ne="_slider_1qvcc_668",be="_modalActions_1qvcc_703",Be="_cancelBtn_1qvcc_711",s={courtRulesPage:z,backButton:I,header:P,headerIcon:M,headerContent:G,primaryBtn:J,infoBanner:V,toolbar:O,searchBox:U,filterSelect:Y,rulesList:Q,ruleCard:W,inactive:$,ruleHeader:X,ruleTitle:K,typeBadge:Z,ruleActions:ee,toggleBtn:se,iconBtn:te,iconBtnDanger:ae,ruleDetails:ie,ruleInfo:ce,infoLabel:ne,infoValue:oe,ruleDescription:le,ruleExample:re,emptyState:de,modalOverlay:ue,modal:pe,modalHeader:me,closeBtn:ve,modalForm:he,formGroup:xe,formRow:ge,deadlineSection:je,deadlineInputs:_e,toggle:fe,toggleLabel:ye,toggleDesc:Ce,switch:"_switch_1qvcc_654",slider:Ne,modalActions:be,cancelBtn:Be},qe=[{id:"1",name:"Response to Complaint",jurisdiction:"Federal",court:"U.S. District Court",ruleType:"filing",triggerEvent:"Service of Complaint",daysBeforeAfter:21,direction:"after",countType:"calendar",excludeHolidays:!0,description:"FRCP 12(a)(1)(A)(i) - 21 days after service",isActive:!0},{id:"2",name:"Motion to Dismiss",jurisdiction:"Federal",court:"U.S. District Court",ruleType:"motion",triggerEvent:"Service of Complaint",daysBeforeAfter:21,direction:"after",countType:"calendar",excludeHolidays:!0,description:"FRCP 12(b) - Must be filed before or with Answer",isActive:!0},{id:"3",name:"Discovery Requests",jurisdiction:"California",court:"Superior Court",ruleType:"discovery",triggerEvent:"Service Date",daysBeforeAfter:30,direction:"after",countType:"calendar",excludeHolidays:!1,description:"CCP 2030.260 - 30 days to respond",isActive:!0},{id:"4",name:"Motion Hearing Notice",jurisdiction:"New York",court:"Supreme Court",ruleType:"motion",triggerEvent:"Hearing Date",daysBeforeAfter:8,direction:"before",countType:"business",excludeHolidays:!0,description:"CPLR 2214 - Minimum notice requirement",isActive:!0},{id:"5",name:"Appeal Filing",jurisdiction:"Federal",court:"Circuit Court of Appeals",ruleType:"appeal",triggerEvent:"Entry of Judgment",daysBeforeAfter:30,direction:"after",countType:"calendar",excludeHolidays:!0,description:"FRAP 4(a)(1) - Notice of appeal deadline",isActive:!0}],Ae={filing:{label:"Filing",color:"#3B82F6"},service:{label:"Service",color:"#10B981"},discovery:{label:"Discovery",color:"#8B5CF6"},motion:{label:"Motion",color:"#F59E0B"},trial:{label:"Trial",color:"#EC4899"},appeal:{label:"Appeal",color:"#EF4444"}};function He(){const a=b(),[r,d]=u.useState(qe),[i,l]=u.useState(""),[p,c]=u.useState("all"),[_,m]=u.useState(!1),[v,h]=u.useState(null),f=[...new Set(r.map(t=>t.jurisdiction))],x=r.filter(t=>{const o=t.name.toLowerCase().includes(i.toLowerCase())||t.court.toLowerCase().includes(i.toLowerCase()),n=p==="all"||t.jurisdiction===p;return o&&n}),y=t=>{d(o=>o.map(n=>n.id===t?{...n,isActive:!n.isActive}:n))},C=t=>{d(o=>o.filter(n=>n.id!==t))};return e.jsxs("div",{className:s.courtRulesPage,children:[e.jsxs("button",{className:s.backButton,onClick:()=>a("/app/settings"),children:[e.jsx(B,{size:16}),"Back to Settings"]}),e.jsxs("div",{className:s.header,children:[e.jsx("div",{className:s.headerIcon,children:e.jsx(g,{size:28})}),e.jsxs("div",{className:s.headerContent,children:[e.jsx("h1",{children:"Court Rules"}),e.jsx("p",{children:"Manage deadline rules for different courts and jurisdictions. Rules are automatically applied to matters."})]}),e.jsxs("button",{className:s.primaryBtn,onClick:()=>m(!0),children:[e.jsx(j,{size:18}),"Add Rule"]})]}),e.jsxs("div",{className:s.infoBanner,children:[e.jsx(q,{size:20}),e.jsxs("div",{children:[e.jsx("h4",{children:"How Court Rules Work"}),e.jsx("p",{children:'Court rules automatically calculate deadlines based on trigger events. When you set a trigger event on a matter (like "Service of Complaint"), Apex will calculate and add all related deadlines to your calendar.'})]})]}),e.jsxs("div",{className:s.toolbar,children:[e.jsxs("div",{className:s.searchBox,children:[e.jsx(A,{size:18}),e.jsx("input",{type:"text",placeholder:"Search rules...",value:i,onChange:t=>l(t.target.value)})]}),e.jsxs("div",{className:s.filterSelect,children:[e.jsx(S,{size:16}),e.jsxs("select",{value:p,onChange:t=>c(t.target.value),children:[e.jsx("option",{value:"all",children:"All Jurisdictions"}),f.map(t=>e.jsx("option",{value:t,children:t},t))]}),e.jsx(D,{size:16})]})]}),e.jsxs("div",{className:s.rulesList,children:[x.map(t=>{const o=Ae[t.ruleType],n=H(L(new Date,t.direction==="after"?t.daysBeforeAfter:-t.daysBeforeAfter),"MMM d, yyyy");return e.jsxs("div",{className:N(s.ruleCard,!t.isActive&&s.inactive),children:[e.jsxs("div",{className:s.ruleHeader,children:[e.jsxs("div",{className:s.ruleTitle,children:[e.jsx("h3",{children:t.name}),e.jsx("span",{className:s.typeBadge,style:{background:`${o.color}20`,color:o.color},children:o.label})]}),e.jsxs("div",{className:s.ruleActions,children:[e.jsx("button",{className:s.toggleBtn,onClick:()=>y(t.id),children:t.isActive?e.jsxs(e.Fragment,{children:[e.jsx(R,{size:16})," Active"]}):e.jsxs(e.Fragment,{children:[e.jsx(T,{size:16})," Inactive"]})}),e.jsx("button",{className:s.iconBtn,onClick:()=>{h(t),m(!0)},children:e.jsx(w,{size:16})}),e.jsx("button",{className:s.iconBtnDanger,onClick:()=>C(t.id),children:e.jsx(E,{size:16})})]})]}),e.jsxs("div",{className:s.ruleDetails,children:[e.jsxs("div",{className:s.ruleInfo,children:[e.jsx("span",{className:s.infoLabel,children:"Jurisdiction"}),e.jsxs("span",{className:s.infoValue,children:[t.jurisdiction," - ",t.court]})]}),e.jsxs("div",{className:s.ruleInfo,children:[e.jsx("span",{className:s.infoLabel,children:"Trigger Event"}),e.jsx("span",{className:s.infoValue,children:t.triggerEvent})]}),e.jsxs("div",{className:s.ruleInfo,children:[e.jsx("span",{className:s.infoLabel,children:"Deadline"}),e.jsxs("span",{className:s.infoValue,children:[t.daysBeforeAfter," ",t.countType," days ",t.direction," trigger",t.excludeHolidays&&" (excl. holidays)"]})]})]}),t.description&&e.jsx("p",{className:s.ruleDescription,children:t.description}),e.jsxs("div",{className:s.ruleExample,children:[e.jsx(F,{size:14}),e.jsxs("span",{children:["Example: If trigger is today, deadline is ",e.jsx("strong",{children:n})]})]})]},t.id)}),x.length===0&&e.jsxs("div",{className:s.emptyState,children:[e.jsx(g,{size:48}),e.jsx("h3",{children:"No Court Rules Found"}),e.jsx("p",{children:"Add court rules to automatically calculate deadlines based on trigger events."}),e.jsxs("button",{className:s.primaryBtn,onClick:()=>m(!0),children:[e.jsx(j,{size:18}),"Add Your First Rule"]})]})]}),_&&e.jsx(Se,{rule:v,onClose:()=>{m(!1),h(null)},onSave:t=>{d(v?o=>o.map(n=>n.id===v.id?{...n,...t}:n):o=>[...o,{...t,id:Date.now().toString(),isActive:!0}]),m(!1),h(null)}})]})}function Se({rule:a,onClose:r,onSave:d}){const[i,l]=u.useState({name:(a==null?void 0:a.name)||"",jurisdiction:(a==null?void 0:a.jurisdiction)||"",court:(a==null?void 0:a.court)||"",ruleType:(a==null?void 0:a.ruleType)||"filing",triggerEvent:(a==null?void 0:a.triggerEvent)||"",daysBeforeAfter:(a==null?void 0:a.daysBeforeAfter)||21,direction:(a==null?void 0:a.direction)||"after",countType:(a==null?void 0:a.countType)||"calendar",excludeHolidays:(a==null?void 0:a.excludeHolidays)??!0,description:(a==null?void 0:a.description)||""}),p=c=>{c.preventDefault(),d(i)};return e.jsx("div",{className:s.modalOverlay,onClick:r,children:e.jsxs("div",{className:s.modal,onClick:c=>c.stopPropagation(),children:[e.jsxs("div",{className:s.modalHeader,children:[e.jsx("h2",{children:a?"Edit Court Rule":"Add Court Rule"}),e.jsx("button",{onClick:r,className:s.closeBtn,children:e.jsx(k,{size:20})})]}),e.jsxs("form",{onSubmit:p,className:s.modalForm,children:[e.jsxs("div",{className:s.formGroup,children:[e.jsx("label",{children:"Rule Name *"}),e.jsx("input",{type:"text",value:i.name,onChange:c=>l({...i,name:c.target.value}),placeholder:"e.g., Response to Complaint",required:!0})]}),e.jsxs("div",{className:s.formRow,children:[e.jsxs("div",{className:s.formGroup,children:[e.jsx("label",{children:"Jurisdiction *"}),e.jsx("input",{type:"text",value:i.jurisdiction,onChange:c=>l({...i,jurisdiction:c.target.value}),placeholder:"e.g., Federal, California",required:!0})]}),e.jsxs("div",{className:s.formGroup,children:[e.jsx("label",{children:"Court *"}),e.jsx("input",{type:"text",value:i.court,onChange:c=>l({...i,court:c.target.value}),placeholder:"e.g., U.S. District Court",required:!0})]})]}),e.jsxs("div",{className:s.formRow,children:[e.jsxs("div",{className:s.formGroup,children:[e.jsx("label",{children:"Rule Type *"}),e.jsxs("select",{value:i.ruleType,onChange:c=>l({...i,ruleType:c.target.value}),children:[e.jsx("option",{value:"filing",children:"Filing"}),e.jsx("option",{value:"service",children:"Service"}),e.jsx("option",{value:"discovery",children:"Discovery"}),e.jsx("option",{value:"motion",children:"Motion"}),e.jsx("option",{value:"trial",children:"Trial"}),e.jsx("option",{value:"appeal",children:"Appeal"})]})]}),e.jsxs("div",{className:s.formGroup,children:[e.jsx("label",{children:"Trigger Event *"}),e.jsx("input",{type:"text",value:i.triggerEvent,onChange:c=>l({...i,triggerEvent:c.target.value}),placeholder:"e.g., Service of Complaint",required:!0})]})]}),e.jsxs("div",{className:s.deadlineSection,children:[e.jsx("label",{children:"Deadline Calculation"}),e.jsxs("div",{className:s.deadlineInputs,children:[e.jsx("input",{type:"number",value:i.daysBeforeAfter,onChange:c=>l({...i,daysBeforeAfter:parseInt(c.target.value)}),min:1}),e.jsxs("select",{value:i.countType,onChange:c=>l({...i,countType:c.target.value}),children:[e.jsx("option",{value:"calendar",children:"calendar days"}),e.jsx("option",{value:"business",children:"business days"})]}),e.jsxs("select",{value:i.direction,onChange:c=>l({...i,direction:c.target.value}),children:[e.jsx("option",{value:"after",children:"after"}),e.jsx("option",{value:"before",children:"before"})]}),e.jsx("span",{children:"trigger event"})]})]}),e.jsxs("div",{className:s.toggle,children:[e.jsxs("div",{children:[e.jsx("span",{className:s.toggleLabel,children:"Exclude Holidays"}),e.jsx("span",{className:s.toggleDesc,children:"Skip court holidays when calculating deadline"})]}),e.jsxs("label",{className:s.switch,children:[e.jsx("input",{type:"checkbox",checked:i.excludeHolidays,onChange:c=>l({...i,excludeHolidays:c.target.checked})}),e.jsx("span",{className:s.slider})]})]}),e.jsxs("div",{className:s.formGroup,children:[e.jsx("label",{children:"Description / Citation"}),e.jsx("textarea",{value:i.description,onChange:c=>l({...i,description:c.target.value}),placeholder:"e.g., FRCP 12(a)(1)(A)(i) - 21 days after service",rows:2})]}),e.jsxs("div",{className:s.modalActions,children:[e.jsx("button",{type:"button",onClick:r,className:s.cancelBtn,children:"Cancel"}),e.jsx("button",{type:"submit",className:s.primaryBtn,children:a?"Save Changes":"Add Rule"})]})]})]})})}export{He as CourtRulesPage};
