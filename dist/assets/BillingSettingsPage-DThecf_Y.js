import{r,a6 as e}from"./vendor-DrKzkH4x.js";import{u as d}from"./index-CCWWoMiH.js";import{s}from"./SettingsPage.module-DZhI6nyr.js";import{a as h}from"./router-CNLU_KyZ.js";import{al as m,J as x,bS as p,F as u,bb as j,j as g,G as v,t as N}from"./icons-BtUkkwGS.js";import"./doc-parsers-U1nJMjtM.js";import"./react-dom-DfB-QKj2.js";import"./pdf-worker-CVmCB3lP.js";import"./state-72d44OIA.js";function M(){const t=h(),{user:b,firm:y}=d(),[o,n]=r.useState(!1),[a,i]=r.useState({defaultRate:450,billingIncrement:"6",roundingMethod:"up",minimumEntry:"6",invoicePrefix:"INV",nextInvoiceNumber:1001,paymentTerms:"30",lateFeePercentage:1.5,utbmsEnabled:!0,ledesFormat:"1998B",requireUtbmsCode:!1,billTheme:"professional",showDetailedTime:!0,showAttorneyInitials:!0,groupByMatter:!0,showTaskCodes:!0,logoUrl:"",invoiceTitle:"INVOICE",headerMessage:"",footerMessage:"Thank you for your business. Please include the invoice number with your payment.",paymentInstructions:"",primaryColor:"#1a1a2e",accentColor:"#F59E0B",showFirmAddress:!0,showFirmPhone:!0,showFirmEmail:!0}),c=()=>{n(!0),setTimeout(()=>n(!1),3e3)};return e.jsxs("div",{className:s.settingsPage,children:[e.jsxs("button",{className:s.backButton,onClick:()=>t("/app/settings"),children:[e.jsx(m,{size:16}),"Back to Settings"]}),e.jsxs("div",{className:s.header,children:[e.jsx("h1",{children:"Billing Settings"}),e.jsx("p",{children:"Configure billing preferences, invoice settings, and UTBMS options"})]}),e.jsx("div",{className:s.settingsContent,style:{maxWidth:"900px"},children:e.jsxs("div",{className:s.tabContent,children:[e.jsxs("div",{className:s.section,children:[e.jsxs("div",{className:s.sectionHeader,children:[e.jsx(x,{size:20}),e.jsxs("div",{children:[e.jsx("h2",{children:"Time Entry Defaults"}),e.jsx("p",{children:"Default settings for time entries"})]})]}),e.jsxs("div",{className:s.formGrid,children:[e.jsxs("div",{className:s.formGroup,children:[e.jsx("label",{children:"Default Hourly Rate ($)"}),e.jsx("input",{type:"number",value:a.defaultRate,onChange:l=>i({...a,defaultRate:parseInt(l.target.value)})})]}),e.jsxs("div",{className:s.formGroup,children:[e.jsx("label",{children:"Billing Increment (minutes)"}),e.jsxs("select",{value:a.billingIncrement,onChange:l=>i({...a,billingIncrement:l.target.value}),children:[e.jsx("option",{value:"1",children:"1 minute"}),e.jsx("option",{value:"6",children:"6 minutes (0.1 hr)"}),e.jsx("option",{value:"10",children:"10 minutes"}),e.jsx("option",{value:"15",children:"15 minutes (0.25 hr)"}),e.jsx("option",{value:"30",children:"30 minutes (0.5 hr)"})]})]})]}),e.jsxs("div",{className:s.formGrid,children:[e.jsxs("div",{className:s.formGroup,children:[e.jsx("label",{children:"Rounding Method"}),e.jsxs("select",{value:a.roundingMethod,onChange:l=>i({...a,roundingMethod:l.target.value}),children:[e.jsx("option",{value:"up",children:"Round Up"}),e.jsx("option",{value:"down",children:"Round Down"}),e.jsx("option",{value:"nearest",children:"Round to Nearest"}),e.jsx("option",{value:"none",children:"No Rounding"})]})]}),e.jsxs("div",{className:s.formGroup,children:[e.jsx("label",{children:"Minimum Entry (minutes)"}),e.jsxs("select",{value:a.minimumEntry,onChange:l=>i({...a,minimumEntry:l.target.value}),children:[e.jsx("option",{value:"1",children:"1 minute"}),e.jsx("option",{value:"6",children:"6 minutes"}),e.jsx("option",{value:"10",children:"10 minutes"}),e.jsx("option",{value:"15",children:"15 minutes"})]})]})]})]}),e.jsxs("div",{className:s.section,children:[e.jsxs("div",{className:s.sectionHeader,children:[e.jsx(p,{size:20}),e.jsxs("div",{children:[e.jsx("h2",{children:"Invoice Settings"}),e.jsx("p",{children:"Configure invoice numbering and payment terms"})]})]}),e.jsxs("div",{className:s.formGrid,children:[e.jsxs("div",{className:s.formGroup,children:[e.jsx("label",{children:"Invoice Prefix"}),e.jsx("input",{type:"text",value:a.invoicePrefix,onChange:l=>i({...a,invoicePrefix:l.target.value}),placeholder:"INV"})]}),e.jsxs("div",{className:s.formGroup,children:[e.jsx("label",{children:"Next Invoice Number"}),e.jsx("input",{type:"number",value:a.nextInvoiceNumber,onChange:l=>i({...a,nextInvoiceNumber:parseInt(l.target.value)})})]})]}),e.jsxs("div",{className:s.formGrid,children:[e.jsxs("div",{className:s.formGroup,children:[e.jsx("label",{children:"Payment Terms (days)"}),e.jsxs("select",{value:a.paymentTerms,onChange:l=>i({...a,paymentTerms:l.target.value}),children:[e.jsx("option",{value:"0",children:"Due on Receipt"}),e.jsx("option",{value:"15",children:"Net 15"}),e.jsx("option",{value:"30",children:"Net 30"}),e.jsx("option",{value:"45",children:"Net 45"}),e.jsx("option",{value:"60",children:"Net 60"})]})]}),e.jsxs("div",{className:s.formGroup,children:[e.jsx("label",{children:"Late Fee (%)"}),e.jsx("input",{type:"number",step:"0.5",value:a.lateFeePercentage,onChange:l=>i({...a,lateFeePercentage:parseFloat(l.target.value)})})]})]})]}),e.jsxs("div",{className:s.section,children:[e.jsxs("div",{className:s.sectionHeader,children:[e.jsx(u,{size:20}),e.jsxs("div",{children:[e.jsx("h2",{children:"UTBMS & LEDES"}),e.jsx("p",{children:"Task-based billing codes and electronic billing formats"})]})]}),e.jsxs("div",{className:s.toggle,style:{marginBottom:"1rem"},children:[e.jsxs("div",{children:[e.jsx("span",{className:s.toggleLabel,children:"Enable UTBMS Codes"}),e.jsx("span",{className:s.toggleDesc,children:"Use Uniform Task-Based Management System codes"})]}),e.jsxs("label",{className:s.switch,children:[e.jsx("input",{type:"checkbox",checked:a.utbmsEnabled,onChange:l=>i({...a,utbmsEnabled:l.target.checked})}),e.jsx("span",{className:s.slider})]})]}),e.jsxs("div",{className:s.formGroup,style:{opacity:a.utbmsEnabled?1:.5},children:[e.jsx("label",{children:"LEDES Format"}),e.jsxs("select",{value:a.ledesFormat,onChange:l=>i({...a,ledesFormat:l.target.value}),disabled:!a.utbmsEnabled,children:[e.jsx("option",{value:"1998B",children:"LEDES 1998B"}),e.jsx("option",{value:"1998BI",children:"LEDES 1998BI (Insurance)"}),e.jsx("option",{value:"2000",children:"LEDES 2000"}),e.jsx("option",{value:"XML",children:"LEDES XML"})]})]}),e.jsxs("div",{className:s.toggle,style:{opacity:a.utbmsEnabled?1:.5},children:[e.jsxs("div",{children:[e.jsx("span",{className:s.toggleLabel,children:"Require UTBMS Codes"}),e.jsx("span",{className:s.toggleDesc,children:"Require task/activity codes for all time entries"})]}),e.jsxs("label",{className:s.switch,children:[e.jsx("input",{type:"checkbox",checked:a.requireUtbmsCode,onChange:l=>i({...a,requireUtbmsCode:l.target.checked}),disabled:!a.utbmsEnabled}),e.jsx("span",{className:s.slider})]})]})]}),e.jsxs("div",{className:s.section,children:[e.jsxs("div",{className:s.sectionHeader,children:[e.jsx(j,{size:20}),e.jsxs("div",{children:[e.jsx("h2",{children:"Bill Appearance"}),e.jsx("p",{children:"Customize how your bills look"})]})]}),e.jsxs("div",{className:s.formGroup,children:[e.jsx("label",{children:"Bill Theme"}),e.jsxs("select",{value:a.billTheme,onChange:l=>i({...a,billTheme:l.target.value}),children:[e.jsx("option",{value:"professional",children:"Professional"}),e.jsx("option",{value:"modern",children:"Modern"}),e.jsx("option",{value:"classic",children:"Classic"}),e.jsx("option",{value:"minimal",children:"Minimal"})]})]}),e.jsxs("div",{className:s.toggleGroup,children:[e.jsxs("div",{className:s.toggle,children:[e.jsxs("div",{children:[e.jsx("span",{className:s.toggleLabel,children:"Show Detailed Time"}),e.jsx("span",{className:s.toggleDesc,children:"Display start/end times on bills"})]}),e.jsxs("label",{className:s.switch,children:[e.jsx("input",{type:"checkbox",checked:a.showDetailedTime,onChange:l=>i({...a,showDetailedTime:l.target.checked})}),e.jsx("span",{className:s.slider})]})]}),e.jsxs("div",{className:s.toggle,children:[e.jsxs("div",{children:[e.jsx("span",{className:s.toggleLabel,children:"Show Attorney Initials"}),e.jsx("span",{className:s.toggleDesc,children:"Display attorney initials next to entries"})]}),e.jsxs("label",{className:s.switch,children:[e.jsx("input",{type:"checkbox",checked:a.showAttorneyInitials,onChange:l=>i({...a,showAttorneyInitials:l.target.checked})}),e.jsx("span",{className:s.slider})]})]}),e.jsxs("div",{className:s.toggle,children:[e.jsxs("div",{children:[e.jsx("span",{className:s.toggleLabel,children:"Group by Matter"}),e.jsx("span",{className:s.toggleDesc,children:"Group time entries by matter on bills"})]}),e.jsxs("label",{className:s.switch,children:[e.jsx("input",{type:"checkbox",checked:a.groupByMatter,onChange:l=>i({...a,groupByMatter:l.target.checked})}),e.jsx("span",{className:s.slider})]})]}),e.jsxs("div",{className:s.toggle,children:[e.jsxs("div",{children:[e.jsx("span",{className:s.toggleLabel,children:"Show Task Codes"}),e.jsx("span",{className:s.toggleDesc,children:"Include UTBMS codes on bills"})]}),e.jsxs("label",{className:s.switch,children:[e.jsx("input",{type:"checkbox",checked:a.showTaskCodes,onChange:l=>i({...a,showTaskCodes:l.target.checked})}),e.jsx("span",{className:s.slider})]})]})]})]}),e.jsxs("div",{className:s.section,children:[e.jsxs("div",{className:s.sectionHeader,children:[e.jsx(g,{size:20}),e.jsxs("div",{children:[e.jsx("h2",{children:"Invoice Template"}),e.jsx("p",{children:"Customize your invoice branding and content"})]})]}),e.jsxs("div",{className:s.formGroup,children:[e.jsx("label",{children:"Firm Logo URL"}),e.jsx("input",{type:"url",value:a.logoUrl,onChange:l=>i({...a,logoUrl:l.target.value}),placeholder:"https://example.com/logo.png"}),e.jsx("span",{style:{fontSize:"0.75rem",color:"var(--apex-text)",marginTop:"4px"},children:"Enter a URL to your firm's logo (recommended size: 200x80px)"})]}),e.jsxs("div",{className:s.formGrid,children:[e.jsxs("div",{className:s.formGroup,children:[e.jsx("label",{children:"Invoice Title"}),e.jsx("input",{type:"text",value:a.invoiceTitle,onChange:l=>i({...a,invoiceTitle:l.target.value}),placeholder:"INVOICE"})]}),e.jsxs("div",{className:s.formGroup,children:[e.jsx("label",{children:"Primary Color"}),e.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[e.jsx("input",{type:"color",value:a.primaryColor,onChange:l=>i({...a,primaryColor:l.target.value}),style:{width:"50px",height:"38px",padding:"2px",cursor:"pointer"}}),e.jsx("input",{type:"text",value:a.primaryColor,onChange:l=>i({...a,primaryColor:l.target.value}),style:{flex:1}})]})]})]}),e.jsxs("div",{className:s.formGroup,children:[e.jsx("label",{children:"Header Message (optional)"}),e.jsx("textarea",{value:a.headerMessage,onChange:l=>i({...a,headerMessage:l.target.value}),placeholder:"Appears at the top of your invoice...",rows:2})]}),e.jsxs("div",{className:s.formGroup,children:[e.jsx("label",{children:"Footer Message"}),e.jsx("textarea",{value:a.footerMessage,onChange:l=>i({...a,footerMessage:l.target.value}),placeholder:"Thank you message or additional information...",rows:2})]}),e.jsxs("div",{className:s.toggleGroup,children:[e.jsxs("div",{className:s.toggle,children:[e.jsxs("div",{children:[e.jsx("span",{className:s.toggleLabel,children:"Show Firm Address"}),e.jsx("span",{className:s.toggleDesc,children:"Display your firm's address on invoices"})]}),e.jsxs("label",{className:s.switch,children:[e.jsx("input",{type:"checkbox",checked:a.showFirmAddress,onChange:l=>i({...a,showFirmAddress:l.target.checked})}),e.jsx("span",{className:s.slider})]})]}),e.jsxs("div",{className:s.toggle,children:[e.jsxs("div",{children:[e.jsx("span",{className:s.toggleLabel,children:"Show Firm Phone"}),e.jsx("span",{className:s.toggleDesc,children:"Display your firm's phone number"})]}),e.jsxs("label",{className:s.switch,children:[e.jsx("input",{type:"checkbox",checked:a.showFirmPhone,onChange:l=>i({...a,showFirmPhone:l.target.checked})}),e.jsx("span",{className:s.slider})]})]}),e.jsxs("div",{className:s.toggle,children:[e.jsxs("div",{children:[e.jsx("span",{className:s.toggleLabel,children:"Show Firm Email"}),e.jsx("span",{className:s.toggleDesc,children:"Display your firm's email address"})]}),e.jsxs("label",{className:s.switch,children:[e.jsx("input",{type:"checkbox",checked:a.showFirmEmail,onChange:l=>i({...a,showFirmEmail:l.target.checked})}),e.jsx("span",{className:s.slider})]})]})]})]}),e.jsxs("div",{className:s.section,style:{borderBottom:"none"},children:[e.jsxs("div",{className:s.sectionHeader,children:[e.jsx(v,{size:20}),e.jsxs("div",{children:[e.jsx("h2",{children:"Payment Instructions"}),e.jsx("p",{children:"Add payment details that appear on every invoice"})]})]}),e.jsxs("div",{className:s.formGroup,children:[e.jsx("label",{children:"Payment Instructions"}),e.jsx("textarea",{value:a.paymentInstructions,onChange:l=>i({...a,paymentInstructions:l.target.value}),placeholder:`E.g., Make checks payable to [Firm Name]
Wire Transfer: Bank Name, Account #12345
Pay online at: pay.yourfirm.com`,rows:4}),e.jsx("span",{style:{fontSize:"0.75rem",color:"var(--apex-text)",marginTop:"4px"},children:"These instructions will appear in the payment section of every invoice"})]})]}),e.jsxs("div",{className:s.saveBar,children:[o&&e.jsxs("span",{className:s.savedMessage,children:[e.jsx(N,{size:16}),"Billing settings saved!"]}),e.jsx("button",{className:s.saveBtn,onClick:c,children:"Save Changes"})]})]})})]})}export{M as BillingSettingsPage};
