import{r as u,a6 as e,h}from"./vendor-DrKzkH4x.js";import{d as N}from"./index-CCWWoMiH.js";import{a as B}from"./router-CNLU_KyZ.js";import{al as b,bi as y,as as _,Z as l,aa as c,am as d,ab as A,ad as j,J as m,az as q,aX as z,y as g,z as I,M as x,F as p,X as S,ag as T}from"./icons-BtUkkwGS.js";import"./doc-parsers-U1nJMjtM.js";import"./react-dom-DfB-QKj2.js";import"./pdf-worker-CVmCB3lP.js";import"./state-72d44OIA.js";const D="_workflowsPage_i7pnq_1",G="_backButton_i7pnq_2",W="_header_i7pnq_6",M="_headerLeft_i7pnq_7",O="_headerIcon_i7pnq_8",F="_primaryBtn_i7pnq_11",P="_statsBar_i7pnq_12",R="_stat_i7pnq_12",U="_workflowsGrid_i7pnq_15",H="_workflowCard_i7pnq_16",E="_inactive_i7pnq_18",L="_workflowHeader_i7pnq_19",$="_workflowIcon_i7pnq_20",X="_workflowInfo_i7pnq_21",Z="_category_i7pnq_23",J="_toggleBtn_i7pnq_24",Q="_active_i7pnq_25",K="_workflowDesc_i7pnq_26",V="_workflowMeta_i7pnq_27",Y="_metaItem_i7pnq_28",ee="_workflowActions_i7pnq_30",se="_actionBtn_i7pnq_31",te="_templatesSection_i7pnq_33",ae="_templatesGrid_i7pnq_35",ne="_templateCard_i7pnq_36",ie="_useBtn_i7pnq_41",oe="_modalOverlay_i7pnq_43",le="_modal_i7pnq_43",re="_modalHeader_i7pnq_45",ce="_closeBtn_i7pnq_47",de="_modalForm_i7pnq_48",me="_formGroup_i7pnq_49",pe="_triggerGrid_i7pnq_52",ue="_triggerOption_i7pnq_53",he="_actionsBuilder_i7pnq_55",_e="_actionStep_i7pnq_56",xe="_stepNumber_i7pnq_57",je="_addActionBtn_i7pnq_58",ge="_modalActions_i7pnq_60",we="_cancelBtn_i7pnq_61",s={workflowsPage:D,backButton:G,header:W,headerLeft:M,headerIcon:O,primaryBtn:F,statsBar:P,stat:R,workflowsGrid:U,workflowCard:H,inactive:E,workflowHeader:L,workflowIcon:$,workflowInfo:X,category:Z,toggleBtn:J,active:Q,workflowDesc:K,workflowMeta:V,metaItem:Y,workflowActions:ee,actionBtn:se,templatesSection:te,templatesGrid:ae,templateCard:ne,useBtn:ie,modalOverlay:oe,modal:le,modalHeader:re,closeBtn:ce,modalForm:de,formGroup:me,triggerGrid:pe,triggerOption:ue,actionsBuilder:he,actionStep:_e,stepNumber:xe,addActionBtn:je,modalActions:ge,cancelBtn:we},ve=[{id:"1",name:"New Client Intake",description:"Send welcome email, create tasks, and schedule initial consultation when new client is added",trigger:"Client Created",actions:4,isActive:!0,runCount:45,lastRun:"2 hours ago",category:"Client"},{id:"2",name:"Matter Opening Checklist",description:"Create standard tasks and calendar events when a new matter is opened",trigger:"Matter Created",actions:6,isActive:!0,runCount:32,lastRun:"1 day ago",category:"Matter"},{id:"3",name:"Deadline Reminder",description:"Send email and notification reminders 7, 3, and 1 days before deadlines",trigger:"Deadline Approaching",actions:3,isActive:!0,runCount:156,lastRun:"30 min ago",category:"Calendar"},{id:"4",name:"Invoice Follow-up",description:"Send reminder emails for overdue invoices at 7, 14, and 30 days",trigger:"Invoice Overdue",actions:3,isActive:!0,runCount:28,lastRun:"3 days ago",category:"Billing"},{id:"5",name:"Document Upload Notification",description:"Notify assigned attorneys when documents are uploaded to a matter",trigger:"Document Uploaded",actions:2,isActive:!1,runCount:89,category:"Documents"},{id:"6",name:"Trust Balance Alert",description:"Alert when client trust balance falls below threshold",trigger:"Trust Balance Low",actions:2,isActive:!0,runCount:12,lastRun:"5 days ago",category:"Trust"}],fe=[{value:"client_created",label:"Client Created",icon:g},{value:"matter_created",label:"Matter Created",icon:p},{value:"task_completed",label:"Task Completed",icon:d},{value:"deadline_approaching",label:"Deadline Approaching",icon:m},{value:"invoice_overdue",label:"Invoice Overdue",icon:j},{value:"document_uploaded",label:"Document Uploaded",icon:p},{value:"time_entry_created",label:"Time Entry Created",icon:m}];function ze(){const w=B(),a=N(),[i,v]=u.useState(ve),[f,n]=u.useState(!1),k=t=>{v(r=>r.map(o=>o.id===t?{...o,isActive:!o.isActive}:o))},C=i.filter(t=>t.isActive).length;return e.jsxs("div",{className:s.workflowsPage,children:[e.jsxs("button",{className:s.backButton,onClick:()=>w("/app/settings"),children:[e.jsx(b,{size:16}),"Back to Settings"]}),e.jsxs("div",{className:s.header,children:[e.jsxs("div",{className:s.headerLeft,children:[e.jsx("div",{className:s.headerIcon,children:e.jsx(y,{size:28})}),e.jsxs("div",{children:[e.jsx("h1",{children:"Automated Workflows"}),e.jsx("p",{children:"Automate repetitive tasks and streamline your practice"})]})]}),e.jsxs("button",{className:s.primaryBtn,onClick:()=>n(!0),children:[e.jsx(_,{size:18})," Create Workflow"]})]}),e.jsxs("div",{className:s.statsBar,children:[e.jsxs("div",{className:s.stat,children:[e.jsx(l,{size:18}),e.jsxs("span",{children:[i.length," Workflows"]})]}),e.jsxs("div",{className:s.stat,children:[e.jsx(c,{size:18}),e.jsxs("span",{children:[C," Active"]})]}),e.jsxs("div",{className:s.stat,children:[e.jsx(d,{size:18}),e.jsxs("span",{children:[i.reduce((t,r)=>t+r.runCount,0)," Total Runs"]})]})]}),e.jsx("div",{className:s.workflowsGrid,children:i.map(t=>e.jsxs("div",{className:h(s.workflowCard,!t.isActive&&s.inactive),children:[e.jsxs("div",{className:s.workflowHeader,children:[e.jsx("div",{className:s.workflowIcon,children:e.jsx(l,{size:20})}),e.jsxs("div",{className:s.workflowInfo,children:[e.jsx("h3",{children:t.name}),e.jsx("span",{className:s.category,children:t.category})]}),e.jsx("button",{className:h(s.toggleBtn,t.isActive&&s.active),onClick:()=>k(t.id),children:t.isActive?e.jsxs(e.Fragment,{children:[e.jsx(c,{size:14})," Active"]}):e.jsxs(e.Fragment,{children:[e.jsx(A,{size:14})," Paused"]})})]}),e.jsx("p",{className:s.workflowDesc,children:t.description}),e.jsxs("div",{className:s.workflowMeta,children:[e.jsxs("div",{className:s.metaItem,children:[e.jsx(j,{size:14})," Trigger: ",t.trigger]}),e.jsxs("div",{className:s.metaItem,children:[e.jsx(l,{size:14})," ",t.actions," actions"]}),e.jsxs("div",{className:s.metaItem,children:[e.jsx(d,{size:14})," ",t.runCount," runs"]}),t.lastRun&&e.jsxs("div",{className:s.metaItem,children:[e.jsx(m,{size:14})," Last: ",t.lastRun]})]}),e.jsxs("div",{className:s.workflowActions,children:[e.jsxs("button",{className:s.actionBtn,onClick:()=>a.info(`Editing workflow: ${t.name}

This would open the workflow editor.`),children:[e.jsx(q,{size:14})," Edit"]}),e.jsxs("button",{className:s.actionBtn,onClick:()=>a.info(`Workflow "${t.name}" duplicated!

New workflow created: ${t.name} (Copy)`),children:[e.jsx(z,{size:14})," Duplicate"]}),e.jsxs("button",{className:s.actionBtn,onClick:()=>a.info(`Test run started for: ${t.name}

Workflow executed successfully with test data.`),children:[e.jsx(c,{size:14})," Test Run"]})]})]},t.id))}),e.jsxs("div",{className:s.templatesSection,children:[e.jsx("h2",{children:"Quick Start Templates"}),e.jsxs("div",{className:s.templatesGrid,children:[e.jsxs("div",{className:s.templateCard,children:[e.jsx(g,{size:24}),e.jsx("h4",{children:"Client Onboarding"}),e.jsx("p",{children:"Welcome emails, intake tasks, and document requests"}),e.jsx("button",{className:s.useBtn,onClick:()=>{a.info(`Client Onboarding template selected!

A new workflow will be created with:
• Welcome email trigger
• Intake task creation
• Document request automation`),n(!0)},children:"Use Template"})]}),e.jsxs("div",{className:s.templateCard,children:[e.jsx(I,{size:24}),e.jsx("h4",{children:"Court Deadline Alerts"}),e.jsx("p",{children:"Multi-stage reminders for court filing deadlines"}),e.jsx("button",{className:s.useBtn,onClick:()=>{a.info(`Court Deadline Alerts template selected!

A new workflow will be created with:
• 30-day, 7-day, and 1-day reminders
• Email and in-app notifications`),n(!0)},children:"Use Template"})]}),e.jsxs("div",{className:s.templateCard,children:[e.jsx(x,{size:24}),e.jsx("h4",{children:"Invoice Collection"}),e.jsx("p",{children:"Automated payment reminder sequence"}),e.jsx("button",{className:s.useBtn,onClick:()=>{a.info(`Invoice Collection template selected!

A new workflow will be created with:
• Overdue invoice triggers
• Progressive reminder emails`),n(!0)},children:"Use Template"})]}),e.jsxs("div",{className:s.templateCard,children:[e.jsx(p,{size:24}),e.jsx("h4",{children:"Matter Closing"}),e.jsx("p",{children:"Final billing, file archiving, and client survey"}),e.jsx("button",{className:s.useBtn,onClick:()=>{a.info(`Matter Closing template selected!

A new workflow will be created with:
• Final invoice generation
• Document archiving
• Client satisfaction survey`),n(!0)},children:"Use Template"})]})]})]}),f&&e.jsx("div",{className:s.modalOverlay,onClick:()=>n(!1),children:e.jsxs("div",{className:s.modal,onClick:t=>t.stopPropagation(),children:[e.jsxs("div",{className:s.modalHeader,children:[e.jsx("h2",{children:"Create Workflow"}),e.jsx("button",{onClick:()=>n(!1),className:s.closeBtn,children:e.jsx(S,{size:20})})]}),e.jsxs("div",{className:s.modalForm,children:[e.jsxs("div",{className:s.formGroup,children:[e.jsx("label",{children:"Workflow Name *"}),e.jsx("input",{type:"text",placeholder:"e.g., New Client Welcome"})]}),e.jsxs("div",{className:s.formGroup,children:[e.jsx("label",{children:"Description"}),e.jsx("textarea",{rows:2,placeholder:"What does this workflow do?"})]}),e.jsxs("div",{className:s.formGroup,children:[e.jsx("label",{children:"Trigger *"}),e.jsx("div",{className:s.triggerGrid,children:fe.map(t=>e.jsxs("button",{className:s.triggerOption,onClick:()=>a.info(`Trigger selected: ${t.label}`),children:[e.jsx(t.icon,{size:18})," ",t.label]},t.value))})]}),e.jsxs("div",{className:s.formGroup,children:[e.jsx("label",{children:"Actions"}),e.jsxs("div",{className:s.actionsBuilder,children:[e.jsxs("div",{className:s.actionStep,children:[e.jsx("span",{className:s.stepNumber,children:"1"}),e.jsx(x,{size:16})," Send welcome email ",e.jsx(T,{size:14})]}),e.jsxs("button",{className:s.addActionBtn,onClick:()=>a.info(`Action types available:

• Send Email
• Create Task
• Send SMS
• Create Document
• Update Field
• Wait/Delay`),children:[e.jsx(_,{size:16})," Add Action"]})]})]}),e.jsxs("div",{className:s.modalActions,children:[e.jsx("button",{className:s.cancelBtn,onClick:()=>n(!1),children:"Cancel"}),e.jsxs("button",{className:s.primaryBtn,children:[e.jsx(l,{size:16})," Create Workflow"]})]})]})]})})]})}export{ze as WorkflowsPage};
