import{r as i,a6 as e}from"./vendor-DrKzkH4x.js";import{L as m}from"./router-CNLU_KyZ.js";import{s}from"./AuthPages.module-DbukPY8p.js";import{a as u,M as f,al as h,C as y}from"./icons-BtUkkwGS.js";import"./doc-parsers-U1nJMjtM.js";import"./react-dom-DfB-QKj2.js";import"./pdf-worker-CVmCB3lP.js";const b="https://apexai-api.azurewebsites.net/api";function E(){const[a,l]=i.useState(""),[o,n]=i.useState(!1),[p,d]=i.useState(!1),[c,x]=i.useState(""),j=async t=>{t.preventDefault(),x(""),n(!0);try{const r=await fetch(`${b}/auth/forgot-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a})}),g=await r.json();if(!r.ok)throw new Error(g.error||"Failed to send reset email");d(!0)}catch(r){x(r instanceof Error?r.message:"Something went wrong")}finally{n(!1)}};return e.jsxs("div",{className:s.authPage,children:[e.jsxs("div",{className:s.bgEffects,children:[e.jsx("div",{className:s.gradientOrb1}),e.jsx("div",{className:s.gradientOrb2}),e.jsx("div",{className:s.gridOverlay})]}),e.jsx("div",{className:s.mobileHeader,children:e.jsxs("div",{className:s.logo,children:[e.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 32 32",fill:"none",children:[e.jsx("path",{d:"M16 4L28 28H4L16 4Z",fill:"url(#mobileGrad)",stroke:"#F59E0B",strokeWidth:"1.5"}),e.jsx("circle",{cx:"16",cy:"19",r:"3",fill:"#0B0F1A"}),e.jsx("defs",{children:e.jsxs("linearGradient",{id:"mobileGrad",x1:"16",y1:"4",x2:"16",y2:"28",children:[e.jsx("stop",{stopColor:"#FBBF24"}),e.jsx("stop",{offset:"1",stopColor:"#F59E0B"})]})})]}),e.jsx("span",{className:s.logoText,children:"Apex"})]})}),e.jsx("div",{className:s.brandSide,children:e.jsxs("div",{className:s.brandContent,children:[e.jsxs("div",{className:s.logo,children:[e.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 32 32",fill:"none",children:[e.jsx("path",{d:"M16 4L28 28H4L16 4Z",fill:"url(#forgotGrad)",stroke:"#F59E0B",strokeWidth:"1.5"}),e.jsx("circle",{cx:"16",cy:"19",r:"3",fill:"#0B0F1A"}),e.jsx("defs",{children:e.jsxs("linearGradient",{id:"forgotGrad",x1:"16",y1:"4",x2:"16",y2:"28",children:[e.jsx("stop",{stopColor:"#FBBF24"}),e.jsx("stop",{offset:"1",stopColor:"#F59E0B"})]})})]}),e.jsx("span",{className:s.logoText,children:"Apex"})]}),e.jsx("h1",{className:s.brandTitle,children:"Password recovery made simple."}),e.jsx("p",{className:s.brandSubtitle,children:"Enter your email address and we'll send you a secure link to reset your password. The link will expire in 1 hour for your security."})]})}),e.jsx("div",{className:s.formSide,children:e.jsx("div",{className:s.formContainer,children:p?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:s.formHeader,style:{textAlign:"center"},children:[e.jsx("div",{style:{width:"64px",height:"64px",borderRadius:"50%",background:"linear-gradient(135deg, rgba(34, 197, 94, 0.15) 0%, rgba(34, 197, 94, 0.05) 100%)",border:"1px solid rgba(34, 197, 94, 0.3)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 24px"},children:e.jsx(y,{size:32,color:"#22C55E"})}),e.jsx("h2",{children:"Check your email"}),e.jsxs("p",{style:{marginTop:"12px"},children:["We sent a password reset link to",e.jsx("br",{}),e.jsx("strong",{style:{color:"#F59E0B"},children:a})]})]}),e.jsx("div",{style:{padding:"16px",background:"rgba(255, 255, 255, 0.03)",borderRadius:"8px",marginTop:"24px"},children:e.jsxs("p",{style:{color:"#94a3b8",fontSize:"14px",lineHeight:"1.6",margin:0},children:["Didn't receive the email? Check your spam folder, or"," ",e.jsx("button",{onClick:()=>{d(!1),l("")},style:{background:"none",border:"none",color:"#F59E0B",cursor:"pointer",padding:0,font:"inherit"},children:"try another email address"}),"."]})}),e.jsx("div",{className:s.signupPrompt,style:{marginTop:"32px"},children:e.jsxs(m,{to:"/login",style:{display:"inline-flex",alignItems:"center",gap:"6px"},children:[e.jsx(h,{size:16}),"Back to login"]})})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:s.formHeader,children:[e.jsx("h2",{children:"Forgot password?"}),e.jsx("p",{children:"No worries, we'll send you reset instructions."})]}),c&&e.jsxs("div",{className:s.errorAlert,children:[e.jsx(u,{size:18}),e.jsx("span",{children:c})]}),e.jsxs("form",{onSubmit:j,className:s.form,children:[e.jsxs("div",{className:s.inputGroup,children:[e.jsx("label",{htmlFor:"email",children:"Email address"}),e.jsx("input",{type:"email",id:"email",value:a,onChange:t=>l(t.target.value),placeholder:"you@lawfirm.com",required:!0,autoFocus:!0})]}),e.jsx("button",{type:"submit",className:s.submitBtn,disabled:o,children:o?e.jsx("span",{className:s.spinner}):e.jsxs(e.Fragment,{children:[e.jsx(f,{size:18}),"Send reset link"]})})]}),e.jsx("div",{className:s.signupPrompt,children:e.jsxs(m,{to:"/login",style:{display:"inline-flex",alignItems:"center",gap:"6px"},children:[e.jsx(h,{size:16}),"Back to login"]})})]})})})]})}export{E as ForgotPasswordPage};
