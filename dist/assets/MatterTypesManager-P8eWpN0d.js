import{r as a,a6 as e,h as c}from"./vendor-DrKzkH4x.js";import{a as I}from"./index-CCWWoMiH.js";import{s as k,X as x,t as w,c as L,d as A,az as z,v as E,as as R}from"./icons-BtUkkwGS.js";const M="_overlay_jqhdm_1",D="_modal_jqhdm_18",S="_header_jqhdm_30",F="_headerTitle_jqhdm_38",P="_closeBtn_jqhdm_53",V="_content_jqhdm_71",K="_description_jqhdm_77",X="_typesList_jqhdm_84",Y="_typeItem_jqhdm_91",G="_inactive_jqhdm_106",H="_typeInfo_jqhdm_111",J="_typeLabel_jqhdm_117",O="_typeValue_jqhdm_123",Q="_typeActions_jqhdm_129",U="_toggleBtn_jqhdm_135",W="_active_jqhdm_152",Z="_actionBtn_jqhdm_156",$="_danger_jqhdm_174",ee="_cancel_jqhdm_182",te="_editRow_jqhdm_186",se="_confirmRow_jqhdm_187",ne="_editInput_jqhdm_194",ae="_confirmText_jqhdm_205",ce="_addForm_jqhdm_211",ie="_addInput_jqhdm_220",le="_saveBtn_jqhdm_239",oe="_cancelBtn_jqhdm_261",de="_addTypeBtn_jqhdm_277",re="_footer_jqhdm_299",me="_stats_jqhdm_308",_e="_doneBtn_jqhdm_313",t={overlay:M,modal:D,header:S,headerTitle:F,closeBtn:P,content:V,description:K,typesList:X,typeItem:Y,inactive:G,typeInfo:H,typeLabel:J,typeValue:O,typeActions:Q,toggleBtn:U,active:W,actionBtn:Z,danger:$,cancel:ee,editRow:te,confirmRow:se,editInput:ne,confirmText:ae,addForm:ce,addInput:ie,saveBtn:le,cancelBtn:oe,addTypeBtn:de,footer:re,stats:me,doneBtn:_e};function ue({isOpen:v,onClose:o}){const{matterTypes:d,addMatterType:y,updateMatterType:g,deleteMatterType:N,toggleMatterTypeActive:f}=I(),[B,r]=a.useState(!1),[q,m]=a.useState(null),[n,_]=a.useState(""),[i,l]=a.useState(""),[T,h]=a.useState(null);if(!v)return null;const p=()=>{n.trim()&&(y({value:n.trim().toLowerCase().replace(/\s+/g,"_"),label:n.trim()}),_(""),r(!1))},u=s=>{i.trim()&&(g(s,{label:i.trim(),value:i.trim().toLowerCase().replace(/\s+/g,"_")}),m(null),l(""))},b=s=>{N(s),h(null)},C=s=>{m(s.id),l(s.label)};return e.jsx("div",{className:t.overlay,onClick:o,children:e.jsxs("div",{className:t.modal,onClick:s=>s.stopPropagation(),children:[e.jsxs("div",{className:t.header,children:[e.jsxs("div",{className:t.headerTitle,children:[e.jsx(k,{size:20}),e.jsx("h2",{children:"Manage Matter Types"})]}),e.jsx("button",{onClick:o,className:t.closeBtn,children:e.jsx(x,{size:20})})]}),e.jsxs("div",{className:t.content,children:[e.jsx("p",{className:t.description,children:"Add, edit, or toggle matter types for your firm. Inactive types won't appear in dropdowns but existing matters won't be affected."}),e.jsx("div",{className:t.typesList,children:d.map(s=>e.jsx("div",{className:c(t.typeItem,!s.active&&t.inactive),children:q===s.id?e.jsxs("div",{className:t.editRow,children:[e.jsx("input",{type:"text",value:i,onChange:j=>l(j.target.value),onKeyPress:j=>j.key==="Enter"&&u(s.id),autoFocus:!0,className:t.editInput}),e.jsx("button",{onClick:()=>u(s.id),className:t.actionBtn,title:"Save",children:e.jsx(w,{size:16})}),e.jsx("button",{onClick:()=>{m(null),l("")},className:c(t.actionBtn,t.cancel),title:"Cancel",children:e.jsx(x,{size:16})})]}):T===s.id?e.jsxs("div",{className:t.confirmRow,children:[e.jsxs("span",{className:t.confirmText,children:['Delete "',s.label,'"?']}),e.jsx("button",{onClick:()=>b(s.id),className:c(t.actionBtn,t.danger),children:"Yes"}),e.jsx("button",{onClick:()=>h(null),className:t.actionBtn,children:"No"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:t.typeInfo,children:[e.jsx("span",{className:t.typeLabel,children:s.label}),e.jsx("span",{className:t.typeValue,children:s.value})]}),e.jsxs("div",{className:t.typeActions,children:[e.jsx("button",{onClick:()=>f(s.id),className:c(t.toggleBtn,s.active&&t.active),title:s.active?"Deactivate":"Activate",children:s.active?e.jsx(L,{size:20}):e.jsx(A,{size:20})}),e.jsx("button",{onClick:()=>C(s),className:t.actionBtn,title:"Edit",children:e.jsx(z,{size:14})}),e.jsx("button",{onClick:()=>h(s.id),className:c(t.actionBtn,t.danger),title:"Delete",children:e.jsx(E,{size:14})})]})]})},s.id))}),B?e.jsxs("div",{className:t.addForm,children:[e.jsx("input",{type:"text",value:n,onChange:s=>_(s.target.value),placeholder:"Enter new type name...",onKeyPress:s=>s.key==="Enter"&&p(),autoFocus:!0,className:t.addInput}),e.jsx("button",{onClick:p,className:t.saveBtn,disabled:!n.trim(),children:"Add Type"}),e.jsx("button",{onClick:()=>{r(!1),_("")},className:t.cancelBtn,children:"Cancel"})]}):e.jsxs("button",{onClick:()=>r(!0),className:t.addTypeBtn,children:[e.jsx(R,{size:16}),"Add New Type"]})]}),e.jsxs("div",{className:t.footer,children:[e.jsxs("span",{className:t.stats,children:[d.filter(s=>s.active).length," active / ",d.length," total types"]}),e.jsx("button",{onClick:o,className:t.doneBtn,children:"Done"})]})]})})}export{ue as M};
